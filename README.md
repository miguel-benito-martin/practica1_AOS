<img src="https://lh3.googleusercontent.com/proxy/Z0Jvqb8p-SIubrGr1N1tPm2MbPXbFA-pLoVnniCD5jPOKM9vedf5DPUCwpTUkpHWQ3WhseRLCFy0IP7EEx8nPGurbuclS2abgFR4A34" alt="ETSISI logo" height="90" >

Link a la imagen de docker del contenedor: https://hub.docker.com/repository/docker/migue9b/trabajos

# Arquitectura Orientada a Servicios 2021

## Subsistema 3: gesti√≥n de trabajos de un taller üß∞

###
### _**Consideraciones de dise√±o**_
- Se han a√±adido tres m√©todos `GET` (adem√°s del `getTrabajoId`) para poder realizar b√∫squedas de trabajos por _cliente_, por _veh√≠culo_ y por _estado_ de los trabajos (por ejemplo, b√∫squeda de los trabajos cuyo estados es _'planificado'_).

- Se han a√±adido como claves for√°neas de un trabajo los atributos `idCliente` e `idVehiculo`, porque aportan informaci√≥n necesaria. Por otro lado, el estado de un trabajo se ha representado como un enumerado (_creado, planificado, iniciado o terminado_).

- Se ha considerado que el m√©todo `POST` necesita los valores de `idVehiculo` e `idCliente` (adem√°s del nombre y su descripci√≥n), ya que su funci√≥n es la de crear nuevos trabajos. Al no haber necesidad de modificar estos valores, el m√©todo `PUT` no los tiene inclu√≠dos en su especificaci√≥n.

- Tras la implementaci√≥n de los m√©todos `PUT` y `DELETE` (completan las operaciones CRUD), la especificaci√≥n alcanza el Nivel 2 de madurez de Richardson. Para alcanzar _**the glory of REST**_, se implementa HATEOAS. Se introducen los _links_ para completar la informaci√≥n de un trabajo. En este caso, hacen referencia a la lista de trabajos y a la opci√≥n de modificar el estado del trabajo en cuesti√≥n.

- Se adjuntan pruebas de todos los m√©todos y _responses_ posibles en el archivo http-request.http.

### **_Instrucciones para desplegar el servicio üê≥_**

###
Para llevar a cabo el despliegue del servicio son necesarios tres componentes fundamentales:
- Backend. Con un servidor Mock que hace las veces de server de prueba para realizar las peticiones.
- Frontend. Con una utilidad que levanta un servidor HTTP y habilita una interfaz gr√°fica.
- Proxy. Con un servidor Proxy que resuelva los problemas de rutas entre Backend y Frontend.

_Docker_ nos permite agrupar los tres componentes sin necesidad de usar una m√°quina virtual o servidor remoto.
Para cada parte respectivamente se har√° uso de:
- SpotLight/Prism
- Swagger-UI
- Caddy

Los pasos para el despliegue, mediante el uso de `docker-compose`, son los siguientes:

#### 1. Descomprimir el fichero .zip

Descomprimir el archivo en una carpeta de f√°cil acceso.

#### 2. Abrir la consola

Para Windows:

- `Windows + r`
- Escribe `cmd` y pulsa `Intro`

Para m√°quinas basadas en Linux:

- `CTRL + T`

Para MacOS:

- `OPTION + espacio`
- Escribe `terminal` y pulsa `Intro`

#### 3. Situarse en la carpeta de la especificaci√≥n

- `cd /ruta/a/la/carpeta`

#### 4. Ejecutar Docker

Abrir el _Daemon_ de Docker en la m√°quina(imprescindible haber instalado Docker Desktop previamente)

#### 5. Ejecutar Docker Compose

Una vez situado en la carpeta de la especificaci√≥n, ejecutar el siguiente comando:

- `docker-compose up` (imprescindible estar en la carpeta del proyecto; ya que en esa ruta se encuentra el `.yaml`
  del Docker Compose).

En caso de que no se pueda llevar a cabo, a√±adir la siguiente sentencia despu√©s de `up`:

- `--force-recreate`

#### 6. Acceder al navegador

En la ruta del navegador, acceder a la URL: `localhost:8000`

#### 7. Probar la API

Realizar las peticiones deseadas desde la UI de Swagger.




# Swagger generated server

Spring Boot Server 


## Overview  
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project.  
By using the [OpenAPI-Spec](https://github.com/swagger-api/swagger-core), you can easily generate a server stub.  
This is an example of building a swagger-enabled server in Java using the SpringBoot framework.

The underlying library integrating swagger to SpringBoot is [springdoc-openapi](https://github.com/springdoc/springdoc-openapi)

Start your server as an simple java application  

You can view the api documentation in swagger-ui by pointing to  
http://localhost:8080/  

Change default port value in application.properties
